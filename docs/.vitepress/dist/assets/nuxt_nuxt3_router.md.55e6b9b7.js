import{_ as s,c as a,o as n,a as e}from"./app.7d9e6929.js";const y=JSON.parse('{"title":"nuxt3\u4E2D\u8DEF\u7531\u7684\u6539\u53D8","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u7EA6\u5B9A\u5F0F\u8DEF\u7531","slug":"\u7EA6\u5B9A\u5F0F\u8DEF\u7531"},{"level":2,"title":"\u52A8\u6001\u8DEF\u7531","slug":"\u52A8\u6001\u8DEF\u7531"},{"level":2,"title":"\u5D4C\u5957\u8DEF\u7531","slug":"\u5D4C\u5957\u8DEF\u7531"},{"level":2,"title":"\u8DEF\u7531\u4E2D\u95F4\u4EF6","slug":"\u8DEF\u7531\u4E2D\u95F4\u4EF6"},{"level":3,"title":"\u5168\u5C40\u4E2D\u95F4\u4EF6","slug":"\u5168\u5C40\u4E2D\u95F4\u4EF6"},{"level":3,"title":"\u5C40\u90E8\u4E2D\u95F4\u4EF6","slug":"\u5C40\u90E8\u4E2D\u95F4\u4EF6"}],"relativePath":"nuxt/nuxt3/router.md","lastUpdated":1673314564000}'),l={name:"nuxt/nuxt3/router.md"},p=e(`<h1 id="nuxt3\u4E2D\u8DEF\u7531\u7684\u6539\u53D8" tabindex="-1">nuxt3\u4E2D\u8DEF\u7531\u7684\u6539\u53D8 <a class="header-anchor" href="#nuxt3\u4E2D\u8DEF\u7531\u7684\u6539\u53D8" aria-hidden="true">#</a></h1><blockquote><p>nuxt3\u6B63\u5F0F\u7248\u521A\u521A\u53D1\u5E03\u4E86\uFF0C\u4F46\u662F\u7528\u6CD5\u548Capi\u8DDFnuxt2\u6709\u5F88\u591A\u7684\u4E0D\u540C\uFF0C\u5305\u62ECnuxt3 rc\u7248\u672C\u4E2D\u5F88\u591A\u7528\u6CD5\u5728\u6B63\u5F0F\u7248\u4E2D\u4E5F\u5DF2\u7ECF\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u4F46\u662F\u5B98\u7F51\u6587\u6863\u6CA1\u6709\u53CA\u65F6\u7684\u66F4\u65B0\uFF0C\u5BFC\u81F4\u4E4B\u524D\u4F7F\u7528\u8FC7nuxt\u65E7\u7248\u672C\u7684\u9879\u76EE\u5728\u5347\u7EA7\u540E\u4E0D\u80FD\u6B63\u5E38\u8FD0\u884C\u3002</p></blockquote><h2 id="\u7EA6\u5B9A\u5F0F\u8DEF\u7531" tabindex="-1">\u7EA6\u5B9A\u5F0F\u8DEF\u7531 <a class="header-anchor" href="#\u7EA6\u5B9A\u5F0F\u8DEF\u7531" aria-hidden="true">#</a></h2><p>nuxt3\u4F1A\u81EA\u52A8\u5C06\u6839\u76EE\u5F55\u4E0B\u7684pages\u4E2D\u7684\u6587\u4EF6\u6CE8\u518C\u4E3A\u8DEF\u7531\uFF0Cindex.vue\u6620\u5C04\u4E3A/\uFF0C\u6587\u4EF6\u540D\u6620\u5C04\u4E3A\u540C\u540Dpath\u3002\u9996\u5148\u9700\u8981\u5728\u6839\u76EE\u5F55\u4E0B\u65B0\u5EFA\u4E00\u4E2Apages\u76EE\u5F55\uFF0C\u7136\u540E\u65B0\u5EFA\u4E00\u4E2Aabout.vue\u7684\u9875\u9762\uFF0C\u91CD\u65B0\u542F\u52A8nuxt\u670D\u52A1\uFF08\u65B0\u5EFA\u9875\u9762\u9700\u8981\u91CD\u542F\uFF09\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7/about\u6765\u8BBF\u95EEabout\u9875\u9762\u4E86\uFF0C\u8FD9\u70B9\u548Cnuxt2\u4FDD\u6301\u4E00\u81F4\u3002</p><h2 id="\u52A8\u6001\u8DEF\u7531" tabindex="-1">\u52A8\u6001\u8DEF\u7531 <a class="header-anchor" href="#\u52A8\u6001\u8DEF\u7531" aria-hidden="true">#</a></h2><p>\u5728\u8BE6\u60C5\u9875\u9762\uFF0C\u4E00\u822C\u90FD\u662F\u9700\u8981\u901A\u8FC7id\u6765\u751F\u6210\u52A8\u6001\u8DEF\u7531\uFF0C\u6BD4\u5982\u5728/pages/news\u76EE\u5F55\u4E0B\uFF0C\u65B0\u5EFA\u4E00\u4E2A[id].vue\u7684\u6587\u4EF6\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7/news/1\u6765\u8BBF\u95EEid\u4E3A1\u7684\u8BE6\u60C5\u9875\u9762\u4E86\uFF08<strong>nuxt2\u4E2D\u662F\u65B0\u5EFA_id.vue\u6587\u4EF6</strong>\uFF09\u3002</p><p><strong>\u5982\u679C\u5728\u6587\u4EF6\u540D\u6216\u8005\u6587\u4EF6\u5939\u540D\u79F0\u91CC\u9762\u5305\u542B\u4E86\u65B9\u62EC\u53F7\uFF0C\u5B83\u4EEC\u5C06\u88AB\u8F6C\u6362\u4E3A\u52A8\u6001\u8DEF\u7531\u53C2\u6570\u3002</strong></p><p>\u5728\u8BE6\u60C5\u9875\u9762\uFF0C\u5C31\u53EF\u4EE5\u901A\u8FC7route.params.id\u5728\u83B7\u53D6id\u53C2\u6570\u4E86</p><div class="language-vue"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">const route=useRoute()</span></span>
<span class="line"><span style="color:#A6ACCD;">const id=route.params.id</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5D4C\u5957\u8DEF\u7531" tabindex="-1">\u5D4C\u5957\u8DEF\u7531 <a class="header-anchor" href="#\u5D4C\u5957\u8DEF\u7531" aria-hidden="true">#</a></h2><p>\u5F53\u521B\u5EFA\u7684\u6587\u4EF6\u540D\u548C\u6587\u4EF6\u5939\u540D\u76F8\u540C\u65F6\uFF0C\u4F1A\u81EA\u52A8\u521B\u5EFA\u5D4C\u5957\u8DEF\u7531\uFF0C\u7136\u540E\u5728\u7236\u7EC4\u4EF6\u4E2D\u4F7F\u7528NuxtChild\u5C55\u793A\u5B50\u7EC4\u4EF6\u7684\u5185\u5BB9</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">\u6BD4\u5982\u4E0B\u9762\u76EE\u5F55\u7ED3\u6784\uFF1A</span></span>
<span class="line"><span style="color:#A6ACCD;">-| pages/</span></span>
<span class="line"><span style="color:#A6ACCD;">---| parent/</span></span>
<span class="line"><span style="color:#A6ACCD;">------| child.vue</span></span>
<span class="line"><span style="color:#A6ACCD;">---| parent.vue</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h2 id="\u8DEF\u7531\u4E2D\u95F4\u4EF6" tabindex="-1">\u8DEF\u7531\u4E2D\u95F4\u4EF6 <a class="header-anchor" href="#\u8DEF\u7531\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a></h2><h3 id="\u5168\u5C40\u4E2D\u95F4\u4EF6" tabindex="-1">\u5168\u5C40\u4E2D\u95F4\u4EF6 <a class="header-anchor" href="#\u5168\u5C40\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a></h3><p>Nuxt3\u63D0\u4F9B\u4E86\u8DEF\u7531\u4E2D\u95F4\u4EF6\u7684\u6982\u5FF5\uFF0C\u4F60\u53EF\u4EE5\u5728\u6574\u4E2A\u5E94\u7528\u4F7F\u7528\u5B83\uFF0C\u76EE\u7684\u662F\u5728\u5BFC\u822A\u5230\u67D0\u4E00\u4E2A\u9875\u9762\u4E4B\u524D\uFF0C\u6267\u884C\u4E00\u4E9B\u4EE3\u7801\uFF0C\u6240\u4EE5\u53EF\u4EE5\u7528\u8DEF\u7531\u4E2D\u95F4\u4EF6\u5B9E\u73B0\u8DEF\u7531\u62E6\u622A\u7684\u529F\u80FD\u3002 \u5728\u6839\u76EE\u5F55\u521B\u5EFA\u4E00\u4E2Amiddleware\u6587\u4EF6\u5939\uFF0C\u7136\u540E\u65B0\u5EFA\u4E00\u4E2Adefault.global.ts\u6587\u4EF6\u3002\u5176\u4E2D.global\u8868\u793A\u8FD9\u662F\u4E00\u4E2A\u5168\u5C40\u4E2D\u95F4\u4EF6\uFF0C\u4E5F\u5C31\u662F\u5728\u6BCF\u6B21\u8DF3\u8F6C\u65F6\u90FD\u4F1A\u6267\u884C\u3002</p><div class="language-"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">export default defineNuxtRouteMiddleware((to,from)={</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&quot;\u8981\u53BB\u90A3\u4E2A\u9875\u9762:&quot;+to.path)</span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(&quot;\u6765\u81EA\u90A3\u4E2A\u9875\u9762:&quot;+from.path)</span></span>
<span class="line"><span style="color:#A6ACCD;">  if(to.path===&#39;/admin&#39;){</span></span>
<span class="line"><span style="color:#A6ACCD;">        // \u505C\u6B62\u5BFC\u822A</span></span>
<span class="line"><span style="color:#A6ACCD;">        abortNavigation()</span></span>
<span class="line"><span style="color:#A6ACCD;">        return navigateTo(&#39;/&#39;)</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="\u5C40\u90E8\u4E2D\u95F4\u4EF6" tabindex="-1">\u5C40\u90E8\u4E2D\u95F4\u4EF6 <a class="header-anchor" href="#\u5C40\u90E8\u4E2D\u95F4\u4EF6" aria-hidden="true">#</a></h3><p>\u5728middleware\u4E2D\u65B0\u5EFA\u4E2D\u95F4\u4EF6\u65F6\u4E0D\u52A0global\u5C31\u662F\u5C40\u90E8\u4E2D\u95F4\u4EF6\u4E86</p><div class="language-ts"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">// customer.ts</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">defineNuxtRouteMiddleware</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">to</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;">from</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;">=&gt;</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">\u5C40\u90E8\u4E2D\u95F4\u4EF6</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><p>\u7136\u540E\u5728\u9700\u8981\u4F7F\u7528\u4E2D\u95F4\u4EF6\u7684\u9875\u9762\u901A\u8FC7definePageMeta\u5F15\u5165\u4E2D\u95F4\u4EF6</p><div class="language-vue"><span class="copy"></span><pre><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- about.vue --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">definePageMeta({</span></span>
<span class="line"><span style="color:#A6ACCD;">    middleware:[&#39;customer&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- \u6216\u8005middleware:&#39;customer&#39; --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">})</span></span>
<span class="line"></span></code></pre></div>`,21),o=[p];function t(c,r,i,d,u,A){return n(),a("div",null,o)}var h=s(l,[["render",t]]);export{y as __pageData,h as default};
